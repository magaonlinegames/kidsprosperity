<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Donate | DirectAid</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- MATERIAL DESIGN ICONIC FONT -->
		<!-- Compiled and minified CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

		<!-- Compiled and minified JavaScript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

		<link rel="stylesheet" href="fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
		<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>

		<!-- Compiled and minified JavaScript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<link rel="stylesheet" href="css/style.css">
	</head>

	<body>

		<div class="wrapper" style="background-image: url('images/bg-registration-form-2.jpg');">
			<div class="inner">
				<form action="">
					<h3>Registration Form</h3>
					<div class="form-group">
						<div class="form-wrapper">
							<label for="">First Name</label>
							<input type="text" class="form-control" id="f_name_txt">
						</div>
						<div class="form-wrapper">
							<label for="">Last Name</label>
							<input type="text" class="form-control" id="l_name_txt">
						</div>
					</div>
					<div class="form-wrapper">
						<label for="">Email</label>
						<input type="text" class="form-control" id="email_txt">
					</div>
					<div class="checkbox">
						<label>
							<input type="checkbox"> I accept the Terms of Use & Privacy Policy.
							<span class="checkmark"></span>
						</label>
					</div>
					<button class="send-btn" onclick="sendMessage()">Register Now</button>
				</form>

				<div class="card blue-grey darken-1 hide good">
					<div class="card-content white-text">
					  <span class="card-title">Thank You</span>
					  <p>We are glad to have you on board. A Service Personnel will guide you through the Next Process.</p>
					</div>
					<div class="card-action">
					  <a href="https://prosperityforkids.org/">Continue</a>
					</div>
				</div>

			</div>
		</div>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  // Your web app's Firebase configuration
  var fName, lName, email;
  var firebaseConfig = {
    apiKey: "AIzaSyDaMSk9rTF2QPMXU8wQ9KHB6yvY_4kquh8",
    authDomain: "shippinggame-c680d.firebaseapp.com",
    databaseURL: "https://shippinggame-c680d.firebaseio.com",
    projectId: "shippinggame-c680d",
    storageBucket: "shippinggame-c680d.appspot.com",
    messagingSenderId: "183444386483",
    appId: "1:183444386483:web:ea9e1313cd1c8b3dc076c6"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  $("form").submit(
        function(e){
            e.preventDefault();
        }
    );

  function sendMessage(){
	  fName = $('#f_name_txt').val();
	  lName = $('#l_name_txt').val();
	  email = $('#email_txt').val();

	  if (fName != '' && lName != ''&& email != '') {
		  console.log('Message allowed')
		  // Add a new document in collection "cities"
		  $(".send-btn").hide();
			firebase.firestore().collection("donations").add({
				name: fName + ' ' + lName,
				email: email
			})
			.then(function() {
				$(".send-btn").show();
				$(".inner form").hide();
				$(".good").removeClass('hide');
				$('#f_name_txt').val('');
				$('#l_name_txt').val('');
				$('#email_txt').val('');
				console.log("Document successfully written!");
			})
			.catch(function(error) {
				console.error("Error writing document: ", error);
			});
	  }else{
		console.log('Message not allowed')
	  }
  }


</script>
	<!--JavaScript at end of body for optimized loading-->
	<script type="text/javascript" src="js/materialize.min.js"></script>
	</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>
